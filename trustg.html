<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ù‚Ø© Ù…Ø¹ Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ø´Ø±ÙŠÙ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif; /* Replace with a suitable Arabic font if available */
            background-color: #f8f9fa;
        }
        .game-container {
            max-width: 600px;
            margin-top: 50px;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background-color: #ffffff;
        }
        .choice-btn {
            margin: 10px 0;
            font-size: 1.1em;
            width: 100%;
            transition: transform 0.2s;
        }
        .choice-btn:hover {
            transform: translateY(-2px);
        }
        .gauge-bar {
            height: 30px;
            border-radius: 5px;
            transition: width 0.5s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #212529; /* Dark text for better visibility */
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container game-container">
    <h1 class="text-center mb-4 text-primary">Ù„Ø¹Ø¨Ø© Ø§Ù„Ø«Ù‚Ø© Ù…Ø¹ Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ø´Ø±ÙŠÙ</h1>

    <div class="mb-4">
        <h5 class="text-center">Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø«Ù‚Ø©: <span id="trust-value">50</span></h5>
        <div class="progress" style="height: 30px;">
            <div id="gauge" class="progress-bar gauge-bar bg-warning" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <p id="gauge-message" class="text-center mt-2"></p>
    </div>
    
    <hr>

    <div id="game-content">
        <h3 class="mb-4 text-center">Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ø­Ø¯ÙŠØ«ØŸ</h3>
        
        <p id="question-text" class="lead text-center mb-4"></p>

        <div id="choices">
            </div>
    </div>
    
    <div id="game-over" class="text-center" style="display: none;">
        <h2 class="mb-3">Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h2>
        <p class="lead"></p> 
        <button class="btn btn-primary mt-3" onclick="location.reload()">Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // --- Game Data and Logic ---

    let trustLevel = 50; // Starting trust
    const trustIncrement = 15; // Amount to increase on correct choice
    const trustDecrement = 10; // Amount to decrease on wrong choice
    let currentQuestionIndex = 0;

    // Game questions and correct answers (A for first choice, B for second)
    const questions = [
        {
            text: "Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù„Ø­Ø¯ÙŠØ«: Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ù‹Ø§ Ù„Ù„Ø­Ø¯ÙŠØ« Ù…Ø¹Ù‡ Ø§Ù„Ø¢Ù†.",
            choiceA: "Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ù…Ø¤Ø§Ù…Ø±Ø© Ø­ÙˆÙ„ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©",
            choiceB: "Ù†ÙƒÙ‡Ø© Ø§Ù„ØªØ´ÙŠØ² ÙƒÙŠÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ø¯ÙŠÙ‡",
            correct: 'A' // Correct: WW2 Conspiracy Theories
        },
        {
            text: "Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù„Ø­Ø¯ÙŠØ«: Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ù‹Ø§ Ø«Ø§Ù†ÙŠÙ‹Ø§.",
            choiceA: "Ø£ÙØ¶Ù„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¥Ø°Ø§Ø¹ÙŠØ© ÙÙŠ Ø£ÙˆØ§Ø¦Ù„ Ø§Ù„ØªØ³Ø¹ÙŠÙ†Ø§Øª",
            choiceB: "Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„ØªÙˆÙ†Ø³ÙŠ",
            correct: 'A' // Correct: Best radio show early 90s
        },
        {
            text: "Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù„Ø­Ø¯ÙŠØ«: Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ù‹Ø§ Ø«Ø§Ù„Ø«Ù‹Ø§.",
            choiceA: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙˆØ¹Ù…Ù„Ø© Ø§Ù„Ø¨ÙŠØªÙƒÙˆÙŠÙ†",
            choiceB: "ØµÙŠØ¯ Ø§Ù„Ø³Ù…Ùƒ",
            correct: 'B' // Correct: Fishing
        },
        {
            text: "Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù„Ø­Ø¯ÙŠØ«: Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ù‹Ø§ Ø£Ø®ÙŠØ±Ù‹Ø§.",
            choiceA: "Ø£ÙØ¶Ù„ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ©",
            choiceB: "Ø£ÙØ¶Ù„ Ø£Ù…Ø§ÙƒÙ† Ù‚Ø¶Ø§Ø¡ Ø§Ù„Ø¹Ø·Ù„Ø§Øª",
            correct: 'A' // Correct: Best classic cars
        }
    ];

    // --- DOM Elements ---
    const trustValueSpan = document.getElementById('trust-value');
    const gaugeBar = document.getElementById('gauge');
    const gaugeMessageP = document.getElementById('gauge-message');
    const questionTextP = document.getElementById('question-text');
    const choicesDiv = document.getElementById('choices');
    const gameOverDiv = document.getElementById('game-over');
    const gameContentDiv = document.getElementById('game-content');
    
    // Elements for the final message display
    const gameOverTitle = document.querySelector('#game-over h2'); 
    const finalOutcomeMessage = document.querySelector('#game-over p.lead');

    // --- Game Functions ---

    /** Updates the visual trust gauge and value. */
    function updateTrustGauge(isCorrect) {
        if (isCorrect) {
            trustLevel = Math.min(100, trustLevel + trustIncrement);
            gaugeMessageP.innerHTML = `<span class="text-success">âœ… ${trustIncrement}+! Ù„Ù‚Ø¯ Ø£Ø­Ø³Ù†Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±.</span>`;
        } else {
            trustLevel = Math.max(0, trustLevel - trustDecrement);
            gaugeMessageP.innerHTML = `<span class="text-danger">âŒ ${trustDecrement}-! Ù‡Ø°Ø§ Ù„Ù… ÙŠØ¹Ø¬Ø¨Ù‡.</span>`;
        }
        
        trustValueSpan.textContent = trustLevel;
        gaugeBar.style.width = trustLevel + '%';
        gaugeBar.setAttribute('aria-valuenow', trustLevel);

        // Change gauge color based on trust level
        gaugeBar.className = 'progress-bar gauge-bar';
        if (trustLevel >= 75) {
            gaugeBar.classList.add('bg-success');
        } else if (trustLevel >= 40) {
            gaugeBar.classList.add('bg-warning');
        } else {
            gaugeBar.classList.add('bg-danger');
        }
    }

    /** Loads the next question or ends the game. */
    function loadNextQuestion() {
        if (currentQuestionIndex < questions.length) {
            const q = questions[currentQuestionIndex];
            questionTextP.textContent = q.text;
            
            choicesDiv.innerHTML = `
                <button class="btn btn-outline-dark choice-btn" data-choice="A" onclick="handleChoice('A')">
                    ${q.choiceA}
                </button>
                <button class="btn btn-outline-dark choice-btn" data-choice="B" onclick="handleChoice('B')">
                    ${q.choiceB}
                </button>
            `;
            gaugeMessageP.textContent = ''; // Clear previous message
        } else {
            endGame();
        }
    }

    /** Handles a player's choice. */
    window.handleChoice = function(choice) {
        // Disable buttons temporarily to prevent double-clicking
        document.querySelectorAll('.choice-btn').forEach(btn => btn.disabled = true);

        const q = questions[currentQuestionIndex];
        const isCorrect = (choice === q.correct);
        
        updateTrustGauge(isCorrect);
        
        currentQuestionIndex++;
        
        // Wait a moment for the user to see the feedback before loading the next question
        setTimeout(() => {
            // Re-enable buttons if not game over
            if (currentQuestionIndex < questions.length) {
                document.querySelectorAll('.choice-btn').forEach(btn => btn.disabled = false);
            }
            loadNextQuestion();
        }, 1500);
    }

    /** Displays the game over screen with success/failure message. */
    function endGame() {
        gameContentDiv.style.display = 'none';
        gameOverDiv.style.display = 'block';

        if (trustLevel >= 100) {
            // Mission Successful!
            gameOverTitle.textContent = "ğŸ¥³ Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…Ù‡Ù…Ø©!";
            gameOverTitle.classList.remove('text-danger');
            gameOverTitle.classList.add('text-success');

            finalOutcomeMessage.innerHTML = `Ù„Ù‚Ø¯ Ù†Ø¬Ø­Øª ÙÙŠ ØªØ´ØªÙŠØª Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ø´Ø±ÙŠÙ Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø²! 
                Ù†Ù‚Ø§Ø· Ø§Ù„Ø«Ù‚Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: <span class="text-success">${trustLevel}</span>`;

        } else {
            // Mission Failed
            gameOverTitle.textContent = "ğŸ˜” ÙØ´Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©!";
            gameOverTitle.classList.remove('text-success');
            gameOverTitle.classList.add('text-danger');

            finalOutcomeMessage.innerHTML = `Ø§Ù„Ø£Ø³ØªØ§Ø° Ø§Ù„Ø´Ø±ÙŠÙ Ù„Ù… ÙŠÙƒÙ† Ù…Ù‡ØªÙ…Ø§Ù‹ Ø¨Ø§Ù„Ø­Ø¯ÙŠØ«ØŒ ÙˆØ°Ù‡Ø¨ Ù„ØªÙÙ‚Ø¯ Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ø£Ø®Ø±Ù‰. 
                Ù†Ù‚Ø§Ø· Ø§Ù„Ø«Ù‚Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: <span class="text-danger">${trustLevel}</span>`;
        }
    }

    // Initialize the game
    loadNextQuestion();

</script>

</body>
</html>